#!/usr/bin/env python

import argparse
import logging

import inflo


def main():
    parser = argparse.ArgumentParser()
    subparsers = parser.add_subparsers()

    configure = subparsers.add_parser('configure', help='Set API key and client id. '
                                                        'Use this if you want to temporary store credentials in file.')
    configure.add_argument('-a', '--api-key', type=str, help='API key.')
    configure.add_argument('-i', '--customer-id', type=str, help='Client ID.')
    configure.set_defaults(func=inflo.store_conf)

    tenant_info = subparsers.add_parser('tenant-info', help='Get tenant info.')
    tenant_info.add_argument('-p', '--password', action='store_true', help='Use previously set password or
                                                                           'insert API and ID manually.')
    tenant.set_defaults(func=inflo.store_conf)

    args = parser.parse_args()
    args.func(args)

if __name__ == '__main__':
    logger = logging.basicConfig(level=logging.DEBUG)
    main()
